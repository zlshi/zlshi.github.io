<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/blog/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="编程语言, 操作系统, 算法, 生活, 炼丹, Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="MarginStone&#39;s blog">
<meta property="og:url" content="http://www.iaihe.cn/blog/index.html">
<meta property="og:site_name" content="MarginStone&#39;s blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MarginStone&#39;s blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.iaihe.cn/blog/"/>





  <title>MarginStone's blog</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b6e32040595c97e2ab9b9ab86d76040c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">MarginStone's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">记录点滴-旺仔&AD钙</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/blog/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/blog/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/blog/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.iaihe.cn/blog/blog/2017/11/20/Markdown语法说明/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zlshi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MarginStone's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/11/20/Markdown语法说明/" itemprop="url">Markdown语法说明</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-20T20:11:48+08:00">
                2017-11-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/工具软件学习/" itemprop="url" rel="index">
                    <span itemprop="name">工具软件学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><table><br>    <tr><br>        <td>Markdown语法</td><br>    </tr><br></table><br><img src="/blog/images/avatar.jpg"><br>&copy;</p>
<p>##特殊字符自动转换<br>在HTML中&lt; 和&amp;会转换为<code>&amp;lt;</code>和<code>&amp;amp;</code></p>
<p>##区块元素</p>
<p>###段落和换行<br>一个MarkDown段落是由一个或多个连续的文本行组成，它的前后要有一个以上的空行（空行的定义是显示上看起来像是空的，便会被视为空行。比方说，若某一行只包含空格和制表符，则该行也会被视为空行）。普通段落不该用空格或制表符来缩进。</p>
<p>「由一个或多个连续的文本组成」这句话其实暗示了Markdown允许段落内强迫换行（插入换行符），这个特性和其他大部分的text-to-HTML格式不一样（包括Movable Type的「Convert Line Breaks」选项），其他的格式会把每个换行符都转换成<code>&lt;br/&gt;</code>标签。</p>
<p>###标题<br>Markdown支持两种标题语法，类Setext和类atx形式。<br>类Setext形式是用底线的形式，利用=（最高阶标题）和-（第二阶标题），例如：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">This is an H1</div><div class="line">==========</div><div class="line"></div><div class="line">This is an H2</div><div class="line">----------------</div></pre></td></tr></table></figure></p>
<p>任何数量的=和-都可以有效果。<br>效果：</p>
<h1 id="This-is-an-H1"><a href="#This-is-an-H1" class="headerlink" title="This is an H1"></a>This is an H1</h1><h2 id="This-is-an-H2"><a href="#This-is-an-H2" class="headerlink" title="This is an H2"></a>This is an H2</h2><p>类Atx形式则是在行首插入1到6个<code>#</code>，对应标题1到6阶，例如：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># 这是H1</div><div class="line">## 这是H2</div><div class="line">###### 这是H6</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<h1 id="这是H1"><a href="#这是H1" class="headerlink" title="这是H1"></a>这是H1</h1><h2 id="这是H2"><a href="#这是H2" class="headerlink" title="这是H2"></a>这是H2</h2><h6 id="这是H6"><a href="#这是H6" class="headerlink" title="这是H6"></a>这是H6</h6><p>你可以选择性地「闭合」类atx样式的标题，这纯粹只是美观用的，若是觉得这样看起来比较舒适，你可以在行尾加上<code>#</code>，而行尾的<code>#</code>的数量也不用和开头一样（行首的<code>#</code>字符数量决定标题的阶数）：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># 这是H1 #</div><div class="line">## 这是H2 ##</div></pre></td></tr></table></figure></p>
<p>###区块引用 Blockquotes<br>Markdown标记区块引用是使用类似email中用<code>&gt;</code>的引用方式。如果你还熟悉在email信件中的引言部分，你就知道怎么在Markdown文件中建立一个区块引用，那会看起来像是你自己先断好行，然后在每行的最前面加上<code>&gt;</code>：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;</span><span class="bash"> This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> Vestibulum enim wisi, viverra nec, fringilla <span class="keyword">in</span>, laoreet vitae, risus.</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> </span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> id sem consectetuer libero luctus adipiscing.</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<blockquote>
<p>This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,<br>consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.<br>Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.</p>
<p>Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse<br>id sem consectetuer libero luctus adipiscing.</p>
</blockquote>
<p>Markdown也允许你偷懒只在整个段落的第一行加上<code>&gt;</code>：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt; This <span class="keyword">is</span> a blockquote <span class="keyword">with</span> two <span class="built_in">paragraphs</span>. Lorem ipsum dolor sit amet,</div><div class="line">consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.</div><div class="line">Vestibulum enim wisi, viverra nec, fringilla <span class="keyword">in</span>, laoreet vitae, risus.</div><div class="line"></div><div class="line">&gt; Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse</div><div class="line"><span class="built_in">id</span> sem consectetuer libero luctus adipiscing.</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<blockquote>
<p>This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,<br>consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.<br>Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.<br>Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse<br>id sem consectetuer libero luctus adipiscing.</p>
</blockquote>
<p>区块引用可以嵌套（例如：引用内的引用），只要根据层次加上不同数量的<code>&gt;</code>：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;</span><span class="bash"> This is first level of quoting.</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"></span></div><div class="line"><span class="meta">&gt;</span><span class="bash">&gt; This is nested blockquote.</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"></span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> Back to the first level.</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<blockquote>
<p>This is the first level of quoting.</p>
<blockquote>
<p>This is nested blockquote.</p>
</blockquote>
<p>Back to the first level.</p>
</blockquote>
<p>引用区块内也可以使用其他Markdown语法，包括标题、列表、代码区块等：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;</span><span class="bash"> <span class="comment">## 这是一个标题。</span></span></div><div class="line"><span class="meta">&gt;</span><span class="bash"></span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> 1. 这是第一行列表项。</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> 2. 这是第二行列表项。</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"></span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> 给出一些例子代码：</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"></span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">return</span> shell_exec(<span class="string">"echo <span class="variable">$input</span> | <span class="variable">$markdown_script</span>"</span>);</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<blockquote>
<h2 id="这是一个标题。"><a href="#这是一个标题。" class="headerlink" title="这是一个标题。"></a>这是一个标题。</h2><ol>
<li>这是第一行列表项。</li>
<li>这是第二行列表项。</li>
</ol>
<p>给出一些例子代码：</p>
<p>return shell_exec(“echo $inout | $markdown_script”);</p>
</blockquote>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>Markdown支持有序列表和无序列表<br>无序列表使用星号、加号或是减号作为列表标记：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">* </span>Red</div><div class="line"><span class="bullet">* </span>Green</div><div class="line"><span class="bullet">* </span>Blue</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<ul>
<li>Red</li>
<li>Green</li>
<li>Blue</li>
</ul>
<p>等同于：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">+ </span>Red</div><div class="line"><span class="bullet">+ </span>Green</div><div class="line"><span class="bullet">+ </span>Blue</div></pre></td></tr></table></figure></p>
<p>效果:</p>
<ul>
<li>Red</li>
<li>Green</li>
<li>Blue</li>
</ul>
<p>也等同于：<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">-<span class="ruby"> Red</span></div><div class="line"><span class="ruby">- Green</span></div><div class="line"><span class="ruby">- Blue</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<ul>
<li>Red</li>
<li>Green</li>
<li>Blue</li>
</ul>
<p>有序序号则使用数字接着一个英文句点：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">1. </span>Bird</div><div class="line"><span class="bullet">2. </span>McHale</div><div class="line"><span class="bullet">3. </span>Parish</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<ol>
<li>Bird</li>
<li>McHale</li>
<li>Parish</li>
</ol>
<p>很重要的一点是，你在列表上使用的数字并不会影响输出的HTML结果，上面的列表所产生的HTML标记为：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Bird<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>McHale<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Parish<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>如果你的列表标记写成：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">1.  </span>Bird</div><div class="line"><span class="bullet">1.  </span>McHale</div><div class="line"><span class="bullet">1.  </span>Parish</div></pre></td></tr></table></figure></p>
<p>或者是：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">3. </span>Bird</div><div class="line"><span class="bullet">1. </span>McHale</div><div class="line"><span class="bullet">8. </span>Parish</div></pre></td></tr></table></figure></p>
<p>你都会得到完全相同的HTML输出。重点在于，你可以让Markdown文件的列表数字和输出的结果相同，或是你懒一点，你可以完全不用在意数字的正确性。</p>
<p>如果你使用懒惰的写法，建议第一个项目最好还是从1.开始，因为Markdown未来可能会支持有序列表的start属性。</p>
<p>列表项目标记通常是放在最左边，但是其实也可以缩进，做多3个空格，项目标记后面则一定要接着至少一个空格或制表符。</p>
<p>要让列表看起来更漂亮，你可以把内容用固定的缩进整理好：<br><figure class="highlight erlang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">*   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</div><div class="line">    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,</div><div class="line">    viverra nec, fringilla in, laoreet vitae, risus.</div><div class="line">*   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.</div><div class="line">    Suspendisse id sem consectetuer libero luctus adipiscing.</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<ul>
<li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.<br>Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,<br>viverra nec, fringilla in, laoreet vitae, risus.</li>
<li>Donec sit amet nisl. Aliquam semper ipsum sit amet velit.<br>Suspendisse id sem consectetuer libero luctus adipiscing.</li>
</ul>
<p>如果项目列表间用空行分开，在输出HTML时Markdown就会将项目内容用<code>&lt;p&gt;</code>标签包起来，举例来说：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">* </span>Bird</div><div class="line"><span class="bullet">* </span>Magic</div></pre></td></tr></table></figure></p>
<p>会被转换为：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Bird<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Magic<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>但是这个：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">*   </span>Bird</div><div class="line"></div><div class="line"><span class="bullet">*   </span>Magic</div></pre></td></tr></table></figure></p>
<p>会被转换为:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>Bird<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>Magic<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>列表项目可以包含多个段落，每个项目下的段落都必须缩进4个空格或是1个制表符：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span>  This <span class="keyword">is</span> a <span class="built_in">list</span> <span class="built_in">item</span> <span class="keyword">with</span> two <span class="built_in">paragraphs</span>. Lorem ipsum dolor</div><div class="line">    sit amet, consectetuer adipiscing elit. Aliquam hendrerit</div><div class="line">    mi posuere lectus.</div><div class="line"></div><div class="line">    Vestibulum enim wisi, viverra nec, fringilla <span class="keyword">in</span>, laoreet</div><div class="line">    vitae, risus. Donec sit amet nisl. Aliquam semper ipsum</div><div class="line">    sit amet velit.</div><div class="line"><span class="number">2.</span>  Suspendisse <span class="built_in">id</span> sem consectetuer libero luctus adipiscing.</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<ol>
<li><p>This is a list item with two paragraphs. Lorem ipsum dolor<br>sit amet, consectetuer adipiscing elit. Aliquam hendrerit<br>mi posuere lectus.</p>
<p>Vestibulum enim wisi, viverra nec, fringilla in, laoreet<br>vitae, risus. Donec sit amet nisl. Aliquam semper ipsum<br>sit amet velit.</p>
</li>
<li><p>Suspendisse id sem consectetuer libero luctus adipiscing.</p>
</li>
</ol>
<p>如果你每行都有缩进，看起来会好看很多，当然，再次地，如果你很懒惰，Mardown也允许：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">*   This <span class="keyword">is</span> a <span class="built_in">list</span> <span class="built_in">item</span> <span class="keyword">with</span> two <span class="built_in">paragraphs</span>.</div><div class="line"></div><div class="line">    This <span class="keyword">is</span> <span class="keyword">the</span> <span class="keyword">second</span> <span class="built_in">paragraph</span> <span class="keyword">in</span> <span class="keyword">the</span> <span class="built_in">list</span> <span class="built_in">item</span>. You're</div><div class="line">only required <span class="keyword">to</span> indent <span class="keyword">the</span> <span class="keyword">first</span> line. Lorem ipsum dolor</div><div class="line">sit amet, consectetuer adipiscing elit.</div><div class="line"></div><div class="line">*   Another <span class="built_in">item</span> <span class="keyword">in</span> <span class="keyword">the</span> same <span class="built_in">list</span>.</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<ul>
<li><p>This is a list item with two paragraphs.</p>
<p>This is the second paragraph in the list item. You’re<br>only required to indent the first line. Lorem ipsum dolor<br>sit amet, consectetuer adipiscing elit.</p>
</li>
<li><p>Another item in the same list.</p>
</li>
</ul>
<p>如果要在列表项目内放进引用，那<code>&gt;</code>就需要缩进：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">*   A <span class="built_in">list</span> <span class="built_in">item</span> <span class="keyword">with</span> a blockquote:</div><div class="line"></div><div class="line">    &gt; This <span class="keyword">is</span> a blockquote</div><div class="line">    &gt; inside a <span class="built_in">list</span> <span class="built_in">item</span>.</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<ul>
<li><p>A list item with a blockquote:</p>
<blockquote>
<p>This is a blockquote<br>inside a list item.</p>
</blockquote>
<p>如果要放代码区块的话，该区块就需要缩进两次，也就是8个空格或是2个制表符：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">*   一列表项包含一个列表区块：</div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">代码写在这</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>效果：</p>
<ul>
<li><p>一列表项包含一个列表区块：</p>
<pre><code>&lt;代码写在这&gt;
</code></pre></li>
</ul>
<p>当然，项目列表很可能会不小心产生像下面这样的写法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">1986</span>. What <span class="selector-tag">a</span> great season.</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<ol>
<li>What a great season.</li>
</ol>
<p>换句话说，也就是在行首出现数字-句点-空白，要避免这样的状况，你可以在句点前面加上反斜杠。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">1986</span>\. What <span class="selector-tag">a</span> great season.</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<p>1986. What a great season.</p>
<p>###代码区块<br>和程序相关的写作或是标签语言原始码通常会有已经排版好的代码区块，通常这些区块我们并不希望它以一般段落文件的方式去排版，而是照原来的样子显示，Markdown会用<code>&lt;pre&gt;</code>和<code>&lt;code&gt;</code>标签来把代码区块包起来。<br>要在Markdown中建立代码区块很简单，只要简单地缩进4个空格或是一个制表符就可以，例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">这是一个普通段落：</div><div class="line"></div><div class="line">    这是一个代码区块。</div></pre></td></tr></table></figure></p>
<p>Markdown会转换成：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个普通段落：<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span>&gt;</span>这是一个代码区块。</div><div class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<p>这是一个普通段落：</p>

<p><pre><code>这是一个代码区块。<br></code></pre><br>这是一个普通段落：</p>
<pre><code>这是一个代码区
</code></pre><p>这个每行一阶的缩进（4个空格或是1个制表符），都会被移除，例如：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Here <span class="keyword">is</span> an example <span class="keyword">of</span> <span class="literal">AppleScript</span>:</div><div class="line"></div><div class="line">    <span class="keyword">tell</span> <span class="built_in">application</span> <span class="string">"Foo"</span></div><div class="line">        <span class="built_in">beep</span></div><div class="line">    <span class="keyword">end</span> <span class="keyword">tell</span></div></pre></td></tr></table></figure></p>
<p>会被转换为：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;Here <span class="keyword">is</span> an example <span class="keyword">of</span> <span class="literal">AppleScript</span>:&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;pre&gt;&lt;code&gt;<span class="keyword">tell</span> <span class="built_in">application</span> <span class="string">"Foo"</span></div><div class="line">    <span class="built_in">beep</span></div><div class="line"><span class="keyword">end</span> <span class="keyword">tell</span></div><div class="line">&lt;/code&gt;&lt;/pre&gt;</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<p>Here is an example of AppleScript:</p>

<p><pre><code>tell application “Foo”<br>    beep<br>end tell<br></code></pre><br>一个代码区块会一直持续到没有缩进的那一行（或是文件结尾）。</p>
<p>在代码区块里面，<code>&amp;</code>、<code>&lt;</code>、和<code>&gt;</code>会自动转成HTML实体，这样的方式让你非常容易使用Markdown插入范例用的HTML原始码，之需要复制粘帖上，再加上缩进就可以了，剩下的Markdown都会帮你处理，例如：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="keyword">div</span> <span class="built_in">class</span>=<span class="string">"footer"</span>&gt;</div><div class="line">       &amp;<span class="keyword">copy</span>; <span class="number">2004</span> Foo Corporation</div><div class="line">   &lt;/<span class="keyword">div</span>&gt;</div></pre></td></tr></table></figure></p>
<p>会被转换为：<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="params">&lt;pre&gt;</span><span class="params">&lt;code&gt;</span><span class="variable">&amp;lt</span>;div class=<span class="string">"footer"</span><span class="variable">&amp;gt</span>;</div><div class="line">    <span class="variable">&amp;amp</span>;copy; <span class="number">2004</span> Foo Corporation</div><div class="line"><span class="variable">&amp;lt</span>;/div<span class="variable">&amp;gt</span>;</div><div class="line"><span class="params">&lt;/code&gt;</span><span class="params">&lt;/pre&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<pre><code> &lt;div class=&quot;footer&quot;&gt;
    &amp;copy; 2004 Foo Corporation
&lt;/div&gt;
</code></pre><p>代码区块中，一般的Markdown语法不会被转换，像是星号便只是星号，这表示你可以很容易地以Markdown语法撰写Markdown语法相关的文件。</p>
<p>###分隔线<br>你可以在一行中用三个以上的星号、减号、底线来建立一个分隔线，行内不能有其他东西。你也可以在星号或是减号中间插入空格。下面每种写法都可以建立分隔线：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="string">*</span> <span class="string">*</span> <span class="string">*</span></div><div class="line"><span class="string">***</span></div><div class="line"><span class="string">*****</span></div><div class="line"><span class="meta">---</span></div><div class="line"><span class="bullet">-</span> <span class="bullet">-</span> <span class="bullet">-</span></div><div class="line"><span class="string">_____________</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<hr>
<hr>
<hr>
<hr>
<hr>
<hr>
<p>##区段元素</p>
<p>###链接<br>Markdown支持两种形式的链接语法：行内式和参考式两种形式。<br>不管是哪一种，链接文字都是用[方括号]来标记。</p>
<p>要建立一个行内式的链接，只要在方括号后面紧接着圆括号并插入网址链接即可，如果你还想加上链接的title文字，只要在网址后面，用双引号把title文字包起来即可，例如：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">This is [<span class="string">an example</span>](<span class="link">http://example.com/ "Title"</span>) inline link.</div><div class="line"></div><div class="line">[<span class="string">This link</span>](<span class="link">http://example.net/</span>) has no title attribute.</div></pre></td></tr></table></figure></p>
<p>会产生：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://example.com/"</span> <span class="attr">title</span>=<span class="string">"Title"</span>&gt;</span></div><div class="line">an example<span class="tag">&lt;/<span class="name">a</span>&gt;</span> inline link.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://example.net/"</span>&gt;</span>This link<span class="tag">&lt;/<span class="name">a</span>&gt;</span> has no</div><div class="line">title attribute.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果：<br>This is <a href="http://example.com/" title="Title" target="_blank" rel="external">an example</a> inline link.</p>
<p><a href="http://example.net/" target="_blank" rel="external">This link</a> has no title attribute.</p>
<p>如果你是要链接到同样主机的资源，你可以使用相对路径：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">See my [<span class="string">About</span>](<span class="link">/about/</span>) page for details.</div></pre></td></tr></table></figure></p>
<p>参考式的链接是在链接文字的括号后面再接上另一个方括号，而第二个方括号里面要填入用以辨识链接的标记：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">This is [<span class="string">an example</span>][<span class="symbol">id</span>] reference-style link.</div></pre></td></tr></table></figure></p>
<p>你也可以选择性地在两个方括号中间加上一个空格：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">This <span class="keyword">is</span> [an example] [<span class="built_in">id</span>] <span class="keyword">reference</span>-style link.</div></pre></td></tr></table></figure></p>
<p>接着，在文件的任意处，你可以把这个标记的链接内容定义出来：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="symbol">id</span>]: <span class="link">http://example.com/  "Optional Title Here"</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<p>This is <a href="http://example.com/" title="Optional Title Here" target="_blank" rel="external">an example</a> reference-style link.</p>
<p>This is <a href="http://example.com/" title="Optional Title Here" target="_blank" rel="external">an example</a> reference-style link.<br>链接内容定义的形式为：</p>
<ul>
<li>方括号（前面可以选择性地加上至多三个空格来缩进），里面输入链接文字</li>
<li>接着一个冒号</li>
<li>接着一个以上的空格或制表符</li>
<li>接着链接的地址</li>
<li>选择性地接着title内容，可以用单引号、双引号或是括弧包着<br>下面这三种链接的定义都是相同：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[<span class="symbol">foo1</span>]: <span class="link">http://example.com/  "Optional Title Here"</span></div><div class="line">[<span class="symbol">foo2</span>]: <span class="link">http://example.com/  'Optional Title Here'</span></div><div class="line">[<span class="symbol">foo3</span>]: <span class="link">http://example.com/  (Optional Title Here)</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>效果：</p>
<p>This is <a href="http://example.com/" title="Optional Title Here" target="_blank" rel="external">foo of first</a><br>[foo2]: <a href="http://example.com/" target="_blank" rel="external">http://example.com/</a>  ‘Optional Title Here’<br>This is [foo of second][foo2]</p>
<p>This is <a href="http://example.com/" title="Optional Title Here" target="_blank" rel="external">foo of third</a><br>链接的网址也可以用尖括号包起来：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="symbol">id</span>]: <span class="link">&lt;http：//example.com/&gt; "Optional Title Here"</span></div></pre></td></tr></table></figure></p>
<p>你也可以把title属性放到下一行，也可以加一些缩进，若网址太长的话，这样会比较好看：<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[id]: <span class="symbol">http:</span>/<span class="regexp">/example.com/longish</span><span class="regexp">/path/to</span><span class="regexp">/resource/here</span></div><div class="line">    <span class="string">"Optional Title Here"</span></div></pre></td></tr></table></figure></p>
<p>网址定义只有在产生链接的时候用到，并不会直接出现在文件之中。<br>链接辨别标签可以有字母、数字、空白和标点符号，但是并不区分大小写，因此下面两个链接是一样的：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[<span class="string">link text</span>][<span class="symbol">a</span>]</div><div class="line">[<span class="string">link text</span>][<span class="symbol">A</span>]</div></pre></td></tr></table></figure></p>
<p>隐式链接标记功能让你可以省略指定链接标记，这种情形下，链接标记会视为等同于链接文字，要用隐式链接标记只要在链接文字后面加上一个空的方括号，如果你要让“Google”链接到<code>google.com</code>,你可以简化成:<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">Google</span>][<span class="symbol"></span>]</div></pre></td></tr></table></figure></p>
<p>然后定义链接内容：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="symbol">Google</span>]: <span class="link">http://google.com/</span></div></pre></td></tr></table></figure></p>
<p>由于链接文字可能包含空白，所以这种简化型的标记内也许包含多个单词：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Visit [<span class="string">Daring Fireball</span>][<span class="symbol"></span>] for more information.</div></pre></td></tr></table></figure></p>
<p>然后接着定义链接：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="symbol">Daring Fireball</span>]: <span class="link">http://daringfireball.net/</span></div></pre></td></tr></table></figure></p>
<p>链接的定义可以放在文件中的任何一个地方，我比较偏好直接放在链接出现段落的后面，你也可以把它放在文件最后面，就像是注解一样。<br>下面是一个参考式链接的范例：<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">I</span> get <span class="number">10</span> times more traffic from [<span class="symbol">Google</span>] [<span class="number">1</span>] than from</div><div class="line">[<span class="symbol">Yahoo</span>] [<span class="number">2</span>] or [<span class="symbol">MSN</span>] [<span class="number">3</span>].</div><div class="line"></div><div class="line">  [<span class="number">1</span>]: http://google.com/        <span class="string">"Google"</span></div><div class="line">  [<span class="number">2</span>]: http://search.yahoo.com/  <span class="string">"Yahoo Search"</span></div><div class="line">  [<span class="number">3</span>]: http://search.msn.com/    <span class="string">"MSN Search"</span></div></pre></td></tr></table></figure></p>
<p>如果改成用链接名称的方式写：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">I get 10 times more traffic from [<span class="string">Google</span>][<span class="symbol"></span>] than from</div><div class="line">[<span class="string">Yahoo</span>][<span class="symbol"></span>] or [<span class="string">MSN</span>][<span class="symbol"></span>].</div><div class="line"></div><div class="line">  [google]: http://google.com/        "Google"</div><div class="line">  [yahoo]:  http://search.yahoo.com/  "Yahoo Search"</div><div class="line">  [msn]:    http://search.msn.com/    "MSN Search"</div></pre></td></tr></table></figure></p>
<p>上面两种写法都会产生下面的 HTML。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;I <span class="builtin-name">get</span> 10 times more traffic <span class="keyword">from</span> &lt;a <span class="attribute">href</span>=<span class="string">"http://google.com/"</span></div><div class="line"><span class="attribute">title</span>=<span class="string">"Google"</span>&gt;Google&lt;/a&gt; than <span class="keyword">from</span></div><div class="line">&lt;a <span class="attribute">href</span>=<span class="string">"http://search.yahoo.com/"</span> <span class="attribute">title</span>=<span class="string">"Yahoo Search"</span>&gt;Yahoo&lt;/a&gt;</div><div class="line"><span class="keyword">or</span> &lt;a <span class="attribute">href</span>=<span class="string">"http://search.msn.com/"</span> <span class="attribute">title</span>=<span class="string">"MSN Search"</span>&gt;MSN&lt;/a&gt;.&lt;/p&gt;</div></pre></td></tr></table></figure></p>
<p>下面是用行内式写的同样一段内容的 Markdown 文件，提供作为比较之用：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">I get 10 times more traffic from [<span class="string">Google</span>](<span class="link">http://google.com/ "Google"</span>)</div><div class="line">than from [<span class="string">Yahoo</span>](<span class="link">http://search.yahoo.com/ "Yahoo Search"</span>) or</div><div class="line">[<span class="string">MSN</span>](<span class="link">http://search.msn.com/ "MSN Search"</span>).</div></pre></td></tr></table></figure></p>
<p>参考式的链接其实重点不在于它比较好写，而是它比较好读，比较一下上面的范例，使用参考式的文章本身只有 81 个字符，但是用行内形式的却会增加到 176 个字元，如果是用纯 HTML 格式来写，会有 234 个字元，在 HTML 格式中，标签比文本还要多。</p>
<p>使用 Markdown 的参考式链接，可以让文件更像是浏览器最后产生的结果，让你可以把一些标记相关的元数据移到段落文字之外，你就可以增加链接而不让文章的阅读感觉被打断。</p>
<p>###强调<br>Markdown使用(<code>*</code>)和(<code>_</code>)作为标记强调字词的符号，被<code>*</code>或<code>_</code>包围的字词会被转成用<code>&lt;em&gt;</code>标签包围，用两个<code>*</code>或<code>_</code>包起来的话，则会被转成<code>&lt;strong&gt;</code>，例如：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="emphasis">*single asterisks*</span></div><div class="line"></div><div class="line"><span class="emphasis">_single underscores_</span></div><div class="line"></div><div class="line"><span class="strong">**double asterisks**</span></div><div class="line"></div><div class="line"><span class="strong">__double underscores__</span></div></pre></td></tr></table></figure></p>
<p>会转成：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>single asterisks<span class="tag">&lt;/<span class="name">em</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>single underscores<span class="tag">&lt;/<span class="name">em</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>double asterisks<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>double underscores<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<p><em>single asterisks</em></p>
<p><em>single underscores</em></p>
<p><strong>double asterisks</strong></p>
<p><strong>double underscores</strong></p>
<p>你可以随便用你喜欢的样式，唯一的限制是，你用什么符号开启标签，就要用什么符号结束。<br>强调也可以直接插在文字中间：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">un<span class="number">*f</span>rigging<span class="number">*be</span>lievable</div></pre></td></tr></table></figure></p>
<p>un<em>frigging</em>believable<br>但是<strong>如果你的</strong><code>*</code><strong>和</strong><code>_</code><strong>两边都有空白的话，它们只会被当成普通的符号。</strong><br>如果要在文字前后直接插入普通的星号或底线，你可以用反斜线：<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\*<span class="keyword">this</span> text <span class="keyword">is</span> surrounded <span class="keyword">by</span> literal asterisks\*</div></pre></td></tr></table></figure></p>
<p>*this text is surrounded by literal asterisks*</p>
<p>###代码<br>如果要标记一小段行内代码，你可以用反引号把它包起来（<code>`</code>)，例如：<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Use</span> the `printf()` <span class="function"><span class="keyword">function</span>.</span></div></pre></td></tr></table></figure></p>
<p>会产生：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Use the <span class="tag">&lt;<span class="name">code</span>&gt;</span>printf()<span class="tag">&lt;/<span class="name">code</span>&gt;</span> function.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果：<br>Use the <code>printf()</code> function.<br>如果要在代码区段内插入反引号，你可以用多个反引号来开启和结束代码区段：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">``There is a literal backtick (`) here.``</div></pre></td></tr></table></figure></p>
<p>这段语法会产生：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;<span class="xml"><span class="tag">&lt;<span class="name">code</span>&gt;</span>There is a literal backtick (`) here.<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<p><code>There is a literal backtick (`) here.</code></p>
<p>代码区段的起始和结束端都可以放入一个空白，起始端后面一个，结束端前面一个，这样你就可以在区段的一开始就插入反引号：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">A single backtick <span class="keyword">in</span> a <span class="keyword">code</span> span: `` ` ``</div><div class="line"></div><div class="line">A backtick-delimited string <span class="keyword">in</span> a <span class="keyword">code</span> span: `` `foo` ``</div></pre></td></tr></table></figure></p>
<p>会产生：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;A single backtick <span class="keyword">in</span> <span class="selector-tag">a</span> <span class="selector-tag">code</span> <span class="selector-tag">span</span>: &lt;code&gt;`&lt;/code&gt;&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;p&gt;A backtick-delimited string <span class="keyword">in</span> <span class="selector-tag">a</span> <span class="selector-tag">code</span> <span class="selector-tag">span</span>: &lt;code&gt;`foo`&lt;/code&gt;&lt;/p&gt;</div></pre></td></tr></table></figure></p>
<p>效果：</p>
<p>A single backtick in a code span: <code>` </code></p>
<p>A backtick-delimited string in a code span: <code>`foo` </code></p>
<p>在代码区段内，&amp; 和尖括号都会被自动地转成 HTML 实体，这使得插入 HTML 原始码变得很容易，Markdown 会把下面这段：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Please don't <span class="keyword">use</span> <span class="keyword">any</span> <span class="string">`&lt;blink&gt;`</span> tags.</div></pre></td></tr></table></figure></p>
<p>转为：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Please don't use any <span class="tag">&lt;<span class="name">code</span>&gt;</span>&amp;lt;blink&amp;gt;<span class="tag">&lt;/<span class="name">code</span>&gt;</span> tags.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<p>Please don’t use any <code>&lt;blink&gt;</code> tags.</p>
<p>你也可以这样写：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">`&amp;#<span class="number">8212</span>;` is the decimal-encoded equivalent <span class="keyword">of</span> `&amp;mdash;`.</div></pre></td></tr></table></figure></p>
<p>以产生：<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="params">&lt;p&gt;</span><span class="params">&lt;code&gt;</span><span class="variable">&amp;amp</span>;<span class="meta">#8212;&lt;/code&gt; is the decimal-encoded</span></div><div class="line">equivalent of <span class="params">&lt;code&gt;</span><span class="variable">&amp;amp</span>;mdash;<span class="params">&lt;/code&gt;</span>.<span class="params">&lt;/p&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<p><code>&amp;#8212;</code> is the decimal-encoded equivalent of <code>&amp;mdash;</code>.</p>
<p>###图片<br>很明显地，要在纯文字应用中设计一个「自然」的语法来插入图片是有一定难度的。</p>
<p>Markdown 使用一种和链接很相似的语法来标记图片，同样也允许两种样式： 行内式和参考式。</p>
<p>行内式的图片语法看起来像是：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">![<span class="string">Alt text</span>](<span class="link">/path/to/img.jpg</span>)</div><div class="line"></div><div class="line">![<span class="string">Alt text</span>](<span class="link">/path/to/img.jpg "Optional title"</span>)</div></pre></td></tr></table></figure></p>
<p>详细叙述如下：</p>
<ul>
<li>一个感叹号<code>!</code></li>
<li>接着一个方括号，里面放上图片的替代文字</li>
<li>接着一个普通括号，里面放上图片的网址，最后还可以用引号包住并加上选择性的’title’文字。</li>
</ul>
<p>参考式的图片语法则长得像这样：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">![<span class="string">Alt text</span>][<span class="symbol">id</span>]</div></pre></td></tr></table></figure></p>
<p>「id」是图片参考的名称，图片参考的定义方式则和连结参考一样：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="built_in">id</span>]: url/<span class="keyword">to</span>/image  <span class="string">"Optional title attribute"</span></div></pre></td></tr></table></figure></p>
<p><img src="/blog/images/avatar.jpg" alt="水滴"><br><strong>到目前为止， Markdown 还没有办法指定图片的宽高，如果你需要的话，你可以使用普通的 <code>&lt;img&gt;</code>标签。</strong></p>
<p>##其它</p>
<p>###自动链接<br>Markdown 支持以比较简短的自动链接形式来处理网址和电子邮件信箱，只要是用尖括号包起来， Markdown 就会自动把它转成链接。一般网址的链接文字就和链接地址一样，例如：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="string">http:</span><span class="comment">//example.com/&gt;</span></div></pre></td></tr></table></figure></p>
<p>Markdown 会转为：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="selector-tag">a</span> href=<span class="string">"http://example.com/"</span>&gt;http:<span class="comment">//example.com/&lt;/a&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果：</p>
<p><a href="http://www.baidu.com/" target="_blank" rel="external">http://www.baidu.com/</a></p>
<p>邮址的自动链接也很类似，只是 Markdown 会先做一个编码转换的过程，把文字字符转成 16 进位码的 HTML 实体，这样的格式可以糊弄一些不好的邮址收集机器人，例如：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="selector-tag">address</span>@<span class="keyword">example</span>.<span class="keyword">com</span>&gt;</div></pre></td></tr></table></figure></p>
<p>Markdown 会转成：<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;a href=<span class="string">"&amp;#x6D;&amp;#x61;i&amp;#x6C;&amp;#x74;&amp;#x6F;:&amp;#x61;&amp;#x64;&amp;#x64;&amp;#x72;&amp;#x65;</span></div><div class="line"><span class="string">&amp;#115;&amp;#115;&amp;#64;&amp;#101;&amp;#120;&amp;#x61;&amp;#109;&amp;#x70;&amp;#x6C;e&amp;#x2E;&amp;#99;&amp;#111;</span></div><div class="line"><span class="string">&amp;#109;"</span>&gt;&amp;<span class="attr">#x61</span>;&amp;<span class="attr">#x64</span>;&amp;<span class="attr">#x64</span>;&amp;<span class="attr">#x72</span>;&amp;<span class="attr">#x65</span>;&amp;<span class="attr">#115</span>;&amp;<span class="attr">#115</span>;&amp;<span class="attr">#64</span>;&amp;<span class="attr">#101</span>;&amp;<span class="attr">#120</span>;&amp;<span class="attr">#x61</span>;</div><div class="line">&amp;<span class="attr">#109</span>;&amp;<span class="attr">#x70</span>;&amp;<span class="attr">#x6</span>C;e&amp;<span class="attr">#x2</span>E;&amp;<span class="attr">#99</span>;&amp;<span class="attr">#111</span>;&amp;<span class="attr">#109</span>;&lt;/a&gt;</div></pre></td></tr></table></figure></p>
<p>效果：<br><a href="&#109;&#97;&#105;&#x6c;&#116;&#111;&#x3a;&#97;&#100;&#x64;&#114;&#x65;&#115;&#115;&#64;&#x65;&#x78;&#x61;&#x6d;&#112;&#x6c;&#101;&#46;&#x63;&#111;&#109;">&#97;&#100;&#x64;&#114;&#x65;&#115;&#115;&#64;&#x65;&#x78;&#x61;&#x6d;&#112;&#x6c;&#101;&#46;&#x63;&#111;&#109;</a></p>
<p>在浏览器里面，这段字串（其实是 <code>&lt;a href=&quot;mailto:address@example.com&quot;&gt;address@example.com&lt;/a&gt;</code>）会变成一个可以点击的「address@example.com」链接。</p>
<p>（这种作法虽然可以糊弄不少的机器人，但并不能全部挡下来，不过总比什么都不做好些。不管怎样，公开你的信箱终究会引来广告信件的。）</p>
<p>###反斜杠<br>Markdown 可以利用反斜杠来插入一些在语法中有其它意义的符号，例如：如果你想要用星号加在文字旁边的方式来做出强调效果（但不用 <em> 标签），你可以在星号的前面加上反斜杠：<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">\*literal</span> asterisks<span class="string">\*</span></div></pre></td></tr></table></figure></em></p>
<p>效果：</p>
<p>*literal asterisks*</p>
<p>Markdown 支持以下这些符号前面加上反斜杠来帮助插入普通的符号：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">\   反斜线</div><div class="line">`   反引号</div><div class="line"><span class="bullet">*   </span>星号</div><div class="line">_   底线</div><div class="line">&#123;&#125;  花括号</div><div class="line">[]  方括号</div><div class="line">()  括弧</div><div class="line"><span class="section">#   井字号</span></div><div class="line"><span class="bullet">+   </span>加号</div><div class="line"><span class="bullet">-   </span>减号</div><div class="line">.   英文句点</div><div class="line">!   惊叹号</div></pre></td></tr></table></figure></p>
<p>##注释<br><a href="https://stackoverflow.com/questions/4823468/comments-in-markdown/4829998#4829998" title="Markdown注释" target="_blank" rel="external">stackoverflow markdown注释</a>单行<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[<span class="symbol">//</span>]: <span class="link"># "Comment"</span></div><div class="line">[<span class="symbol">//</span>]: <span class="link"># (Comment)</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.iaihe.cn/blog/blog/2017/11/09/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zlshi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MarginStone's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/11/09/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-09T14:45:44+08:00">
                2017-11-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/Hexo/" itemprop="url" rel="index">
                    <span itemprop="name">Hexo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.iaihe.cn/blog/blog/2017/07/16/vagrant-e4-bb-8b-e7-bb-8d-e4-b8-8e-e4-bd-bf-e7-94-a8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zlshi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MarginStone's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/07/16/vagrant-e4-bb-8b-e7-bb-8d-e4-b8-8e-e4-bd-bf-e7-94-a8/" itemprop="url">Vagrant介绍与使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-16T13:09:36+08:00">
                2017-07-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/问题笔记/" itemprop="url" rel="index">
                    <span itemprop="name">问题笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Vagrant是自动配置虚拟机的软件，定义好Vagrantfile配置文件 即可通过vagrant up启动一批虚拟机环境。在多人协作开发时可以通过配置来保证每个开发人员构建的机器环境一致<br>参考官网<a href="https://www.vagrantup.com/intro/getting-started/index.html" target="_blank" rel="external">vagrant</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.iaihe.cn/blog/blog/2017/07/11/linux-e5-b1-8f-e5-b9-95-e6-88-aa-e5-9b-be/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zlshi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MarginStone's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/07/11/linux-e5-b1-8f-e5-b9-95-e6-88-aa-e5-9b-be/" itemprop="url">Linux屏幕截图</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-11T17:03:36+08:00">
                2017-07-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/工具软件学习/" itemprop="url" rel="index">
                    <span itemprop="name">工具软件学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>使用命令截图 安装scrot后</li>
<li>scrot -s filename.png  鼠标选择窗口</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.iaihe.cn/blog/blog/2016/05/08/fft-e7-90-86-e8-a7-a3-e5-ae-9e-e7-8e-b0-e5-8f-8a-e5-ba-94-e7-94-a8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zlshi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MarginStone's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2016/05/08/fft-e7-90-86-e8-a7-a3-e5-ae-9e-e7-8e-b0-e5-8f-8a-e5-ba-94-e7-94-a8/" itemprop="url">FFT理解实现及应用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-08T20:39:00+08:00">
                2016-05-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>FFT的理解参考算法导论与<a href="http://www.mengchunlei.net/2015/07/04/fft%E7%9A%84%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3/" target="_blank" rel="external">FFT的简单理解</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.iaihe.cn/blog/blog/2016/04/24/flyweight-e4-ba-ab-e5-85-83-e5-af-b9-e8-b1-a1-e7-bb-93-e6-9e-84-e5-9e-8b-e6-a8-a1-e5-bc-8f/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zlshi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MarginStone's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2016/04/24/flyweight-e4-ba-ab-e5-85-83-e5-af-b9-e8-b1-a1-e7-bb-93-e6-9e-84-e5-9e-8b-e6-a8-a1-e5-bc-8f/" itemprop="url">FLYWEIGHT(享元)---对象结构型模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-24T21:25:10+08:00">
                2016-04-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.iaihe.cn/blog/blog/2016/04/24/java-e4-b8-ad-e5-85-8b-e9-9a-86-e4-b8-8e-e6-8b-b7-e8-b4-9d-e6-9e-84-e9-80-a0-e5-87-bd-e6-95-b0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zlshi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MarginStone's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2016/04/24/java-e4-b8-ad-e5-85-8b-e9-9a-86-e4-b8-8e-e6-8b-b7-e8-b4-9d-e6-9e-84-e9-80-a0-e5-87-bd-e6-95-b0/" itemprop="url">Java中克隆与拷贝构造函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-24T16:22:52+08:00">
                2016-04-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/Java基础/" itemprop="url" rel="index">
                    <span itemprop="name">Java基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考<a href="http://howtodoinjava.com/core-java/cloning/a-guide-to-object-cloning-in-java/" target="_blank" rel="external">A Guide to Object Cloning in Java</a><br><a href="https://www.javacodegeeks.com/2014/01/which-is-better-option-cloning-or-copy-constructors.html" target="_blank" rel="external">Which is better option: Cloning or Copy constructors?</a></p>
<h1 id="Cloning-含义"><a href="#Cloning-含义" class="headerlink" title="Cloning 含义"></a>Cloning 含义</h1><p>当我们使用clone()方法时，JVM做如下两件事：<br>1. 如果这个类只包含原始数据类型成员，则创建一个对象的拷贝，原始数据成员被依次拷贝，返回指向新对象的Reference<br>2. 如果类还包括引用数据类型则只拷贝了它的引用，没有开辟新的空间。</p>
<h1 id="Java中的Clone"><a href="#Java中的Clone" class="headerlink" title="Java中的Clone"></a>Java中的Clone</h1><p>java中的类要支持clone需要实现如下两条<br>1. 实现Cloneable接口<br>2. 重写clone()方法<br>Java docs about clone() method are given below (formatted and extract).</p>
<pre>
/*
Creates and returns a copy of this object. The precise meaning of "copy" may depend on the class of the object.
The general intent is that, for any object x, the expression:
1) x.clone() != x will be true
2) x.clone().getClass() == x.getClass() will be true, but these are not absolute requirements.
3) x.clone().equals(x) will be true, this is not an absolute requirement.
*/
protected native Object  [More ...] clone() throws CloneNotSupportedException;
</pre>

<ol>
<li>第一条保证克隆对象和原对象在内存的不同地方（内存地址不一样）</li>
<li>第二条建议克隆对象和原始对象有相同的类类型，但不强制</li>
<li>第三条建议克隆对象和原始对象使用equals比较是形同，但也不强制</li>
</ol>
<p>例子： string也会被拷贝是因为String类是不可变的,对String类的任何改变,都是返回一个新的String类对象<br>Our first class is Employee class with 3 attributes. Id, name and department.</p>
<pre>
public class Employee implements Cloneable{

    private int employeeId;
    private String employeeName;
    private Department department;

    public Employee(int employeeId, String employeeName, Department department) {
        this.employeeId = employeeId;
        this.employeeName = employeeName;
        this.department = department;
    }
    @Override
    public Object clone() throws CloneNotSupportedException
    {
        return super.clone();
    }
    public int getEmployeeId() {
        return employeeId;
    }
    public void setEmployeeId(int employeeId) {
        this.employeeId = employeeId;
    }
    public String getEmployeeName() {
        return employeeName;
    }
    public void setEmployeeName(String employeeName) {
        this.employeeName = employeeName;
    }
    public Department getDepartment() {
        return department;
    }

    public void setDepartment(Department department) {
        this.department = department;
    }
}
</pre>

<pre>
class Department
{
    private int id;
    private String name;

    public Department(int id, String name) {
        this.id = id;
        this.name = name;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }   
}
</pre>

<p>测试类</p>
<pre>
public class TestCloning {

    public static void main(String[] args) throws CloneNotSupportedException {
        Department dept = new Department(1,"Human Resource");
        Employee original = new Employee(1,"Admin",dept);

        //clone original 
        Employee cloned = (Employee)original.clone();
        System.out.println(cloned.getEmployeeId());

        System.out.println(original != cloned);

        System.out.println(original.getClass()== cloned.getClass());
        System.out.println(original.equals(cloned));
    }
}
</pre>

<p><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160424181932.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160424181932.png" alt="QQ截图20160424181932"></a></p>
<p>把String改为StringBuilder就不能实现拷贝</p>
<p>现在我们修改Department会发现 original数据也会被修改</p>
<pre>
public class TestCloning {

    public static void main(String[] args) throws CloneNotSupportedException {
        Department dept = new Department(1,"Human Resource");
        Employee original = new Employee(1,"Admin",dept);

        //clone original 
        Employee cloned = (Employee)original.clone();

        cloned.getDepartment().setName("Software Development");
        System.out.println(original.getDepartment().getName());
    }
}
</pre>

<p><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160424182455.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160424182455.png" alt="QQ截图20160424182455"></a></p>
<p>Cloned object changes are visible in original also. This way cloned objects can make havoc in system if allowed to do so. Anybody can come and clone your application objects and do whatever he likes.</p>
<h1 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h1><p>是Java中默认实现方式，上面例子实现的就是浅拷贝，因为我们在Employee类的克隆方法中没有克隆 Department.</p>
<h1 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h1><p>使在克隆对象上的改变不影响original</p>
<p>修改Employee的克隆方法</p>
<pre>
@Override
    public Object clone() throws CloneNotSupportedException
    {
        Employee cloned = (Employee)super.clone();
        cloned.setDepartment((Department)cloned.getDepartment().clone());
        return cloned;
    }
</pre>

<p>同时Department也要实现clone()方法</p>
<pre>
 @Override
    public Object clone() throws CloneNotSupportedException
    {
        return super.clone();
    }
</pre>

<p>测试：</p>
<pre>
public class TestCloning {

    public static void main(String[] args) throws CloneNotSupportedException {
        Department dept = new Department(1,"Human Resource");
        Employee original = new Employee(1,"Admin",dept);

        //clone original 
        Employee cloned = (Employee)original.clone();

        cloned.getDepartment().setName("Software Development");
        System.out.println(original.getDepartment().getName());

        System.out.println(cloned.getDepartment().getName());
    }
}
</pre>

<p><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160424183921-1.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160424183921-1.png" alt="QQ截图20160424183921"></a></p>
<p>这时改变cloned的状态 不改变original的状态</p>
<p>实现深拷贝需要满足如下规则<br>1. No need to separately copy primitives.<br>2. All the member classes in original class should support cloning and in clone method of original class in context should call super.clone() on all member classes.<br>3. If any member class does not support cloning then in clone method, one must create a new instance of that member class and copy all its attributes one by one to new member class object. This new member class object will be set in cloned object.</p>
<h1 id="使用拷贝构造函数"><a href="#使用拷贝构造函数" class="headerlink" title="使用拷贝构造函数"></a>使用拷贝构造函数</h1><pre>
public class PointOne {

    private Integer x;
    private Integer y;
    public PointOne (PointOne point)
    {
        this.x = point.x;
        this.y = point.y;
    }
}
</pre>

<p>通过拷贝构造函数可以得到状态一致的对象</p>
<p>详见参考链接一</p>
<h1 id="通过序列化克隆"><a href="#通过序列化克隆" class="headerlink" title="通过序列化克隆"></a>通过序列化克隆</h1><p>只要对应的类是可序列化的可以通过序列化机制实现克隆，做法： 直接将对象序列化到输出流中，然后将其读回。这样产生的新对象是对现有对象的一个深拷贝。可用ByteArrayOutputStream将数据保存到字节数组中。<br> 但是 它通常会比显示地构建新对象并复制或克隆数据域的克隆方法慢的多，并且并不是所有对象是可序列化的，最后使类可序列化是很困难的，并不是所有的类都可以指望得到它的权利。</p>
<pre>
 class Employee extends SerialCloneable
{
    private String name;
    private double salary;
    private Date hireDay;

    public Employee(String n,double s,int year,int month,int day)
    {
        name = n;
        salary  = s;
        GregorianCalendar calendar = new GregorianCalendar(year,month-1,day);
        hireDay = calendar.getTime();
    }
    public String getName()
    {
        return name;
    }
    public double getSalary()
    {
        return salary;
    }
    public Date getHireDay()
    {
        return hireDay;
    }
    public void raiseSalay(double byPercent)
    {
        double raise = salary*byPercent/100.0;
        salary += raise;
    }
    public String toString()
    {
        return getClass().getName()+
                "[name="+name
                +",salary="+salary
                +",hireDay="+hireDay
                +"]";
    }
}
 </pre>

<pre>
 class SerialCloneable implements Cloneable,Serializable
{
    @Override
    public Object clone()
    {
        try{
        //save the object to a byte array
        ByteArrayOutputStream bout = new ByteArrayOutputStream();
        ObjectOutputStream out = new ObjectOutputStream(bout);
        out.writeObject(this);
        out.close();

        //read a clone of the object from the byte array
        ByteArrayInputStream bin = new ByteArrayInputStream(bout.toByteArray());
        ObjectInputStream in = new ObjectInputStream(bin);
        Object ret = in.readObject();
        in.close();
        return ret;
        }catch(Exception e)
        {
            e.printStackTrace();
            return null;
        }
    }
}
 </pre>

<pre>
 public class SerialCloneTest {

    public static void main(String[] args) {
        Employee harry = new Employee("Harry Hacker",35000,1989,10,1);

        Employee harry2 = (Employee)harry.clone();
        harry2.raiseSalay(10);

        System.out.println(harry);
        System.out.println(harry2);
    }

}
 </pre>

<p><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/2016-04-24_195601.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/2016-04-24_195601.png" alt="2016-04-24_195601"></a></p>
<h1 id="使用Apache工具包-using-Apache-commons"><a href="#使用Apache工具包-using-Apache-commons" class="headerlink" title="使用Apache工具包(using Apache commons)"></a>使用Apache工具包(using Apache commons)</h1><p>Apache commons has also utility function for deep cloning. If you feel interested the follow their official docs. Below is sample usage of cloning facility using Apache commons:</p>
<pre>
 SomeObject cloned = org.apache.commons.lang.SerializationUtils.clone(someObject);
 </pre>

<h1 id="Best-practices"><a href="#Best-practices" class="headerlink" title="Best practices"></a>Best practices</h1><ul>
<li>When you don’t know whether you can call the clone() method of a particular class as you are not sure if it is implemented in that class, you can check with checking if the class is instance of “Cloneable” interface as below.</li>
</ul>
<pre>
if(obj1 instanceof Cloneable){
    obj2 = obj1.clone();
} 
//Dont do this. Cloneabe dont have any methods
obj2 = (Cloneable)obj1.clone();
</pre>

<ul>
<li>No constructor is called on the object being cloned. As a result, it is your responsibility, to make sure all the members have been properly set. Also, if you are keeping track of number of objects in system by counting the invocation of constructors, you got a new additional place to increment the counter.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.iaihe.cn/blog/blog/2016/04/24/prototype-pattern-e5-8e-9f-e5-9e-8b-e6-a8-a1-e5-bc-8f/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zlshi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MarginStone's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2016/04/24/prototype-pattern-e5-8e-9f-e5-9e-8b-e6-a8-a1-e5-bc-8f/" itemprop="url">Prototype Pattern(原型模式)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-24T14:13:32+08:00">
                2016-04-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考<a href="https://sourcemaking.com/design_patterns/prototype" target="_blank" rel="external">Prototype Design Pattern</a><br><a href="https://yq.aliyun.com/articles/32049" target="_blank" rel="external">Factory模式与Prototype模式的异同</a></p>
<h2 id="the-prototype-is-the-object-containing-clone-method-used-to-clone-similar-objects-to-it-for-reducing-the-number-of-classes"><a href="#the-prototype-is-the-object-containing-clone-method-used-to-clone-similar-objects-to-it-for-reducing-the-number-of-classes" class="headerlink" title="the prototype is the object containing clone method used to clone similar objects to it for reducing the number of classes"></a>the prototype is the object containing clone method used to clone similar objects to it for reducing the number of classes</h2><h2 id="a-solution-to-these-problems"><a href="#a-solution-to-these-problems" class="headerlink" title="a solution to these problems"></a>a solution to these problems</h2><p>How does one reduce the number of classes that share similar behavoir and relationships</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Define a class to replace all the classes that share similar behavior and relationships. Save instances,called prototypes,of this class. To create an instance of any of the classes replaced, simply clone the desired prototype and modify its attributes</p>
<h2 id="Liabilities-缺点"><a href="#Liabilities-缺点" class="headerlink" title="Liabilities(缺点)"></a>Liabilities(缺点)</h2><ol>
<li>The subclasses of prototype must implement the clone() method. This requires deep-copying if the instances and original must be independent;otherwise, shallow-copying is sufficient</li>
<li>Implementing clone() may be difficult or impossible if the class is final or there are circular references  循环引用 无法克隆</li>
</ol>
<h2 id="Example-Prototype-in-Java"><a href="#Example-Prototype-in-Java" class="headerlink" title="Example Prototype in Java"></a>Example Prototype in Java</h2><ol>
<li>Create a “contract” with clone() and getName() entries</li>
<li>Design a “registry” that maintains a cache of prototypical objects</li>
<li>Populate the registry with an initializePrototypes() function</li>
<li>The registry has a findAndClone() “virtual constructor” that can transform a String into its correct object (it calls clone() which then calls “new”)</li>
<li>All classes relate themselves to the clone() contract</li>
<li>Client uses the findAndClone() virtual ctor instead of the “new” operator</li>
</ol>
<pre>
package Prototype;
interface Prototype {
    Object clone();
    String getName();
}
</pre>

<p>//1.The clone() contract</p>
<pre>
interface Command
{
    void execute();
}
</pre>

<pre><code>class PrototypesModule
{
    //2\. &quot;registry&quot; of prototypical objs
    private static Prototype[] prototypes = new Prototype[9];
    private static int total = 0;

    // Adds a feature to the Prototype attribute of the PrototypesModule class
    //obj The feature to be added to the Prototype attribute
    public static void addPrototype(Prototype obj)
    {
        prototypes[total++] = obj;
    }
    public static Object findAndClone(String name)
    {
        //4\. The &quot;virtual ctor&quot;
        for(int i=0;i&amp;lt;total;i++)
        {
            if(prototypes[i].getName().equals(name))
                return prototypes[i].clone();
        }
        System.out.println(name + &quot;not found&quot;);
        return null;
    }
}
//5\. Sign-up for the clone() contract
`&lt;/pre&gt;

&lt;/pre&gt;

&lt;pre&gt;
class This implements Prototype,Command
{
    public Object clone()
    {
        return new This();
    }
    public String getName()
    {
        return &quot;This&quot;;
    }
    public void execute()
    {
        System.out.println(&quot;This:execute&quot;);
    }
}
&lt;/pre&gt;

&lt;pre&gt;
class That implements Prototype,Command
{
    public Object clone()
    {
        return new That();
    }
    public String getName()
    {
        return &quot;That&quot;;
    }
    public void execute()
    {
        System.out.println(&quot;That:execute&quot;);
    }
}
&lt;/pre&gt;

&lt;pre&gt;
class TheOther implements Prototype,Command
{
    public Object clone()
    {
        return new TheOther();
    }
    public String getName()
    {
        return &quot;TheOther&quot;;
    }
    public void execute()
    {
        System.out.println(&quot;TheOther:execute&quot;);
    }
}
&lt;/pre&gt;

&lt;pre&gt;`public class PrototypeDemo {
    //3\. Populate the &quot;registry&quot;
    public static void initializePrototypes()
    {
        PrototypesModule.addPrototype(new This());
        PrototypesModule.addPrototype(new That());
        PrototypesModule.addPrototype(new TheOther());
    }

    public static void main(String[] args) {
        initializePrototypes();
        Object[] objects = new Object[9];
        int total = 0;
        // 6\. Client does not use &quot;new&quot;
        for(int i=0;i&amp;lt;args.length;i++)
        {
            objects[total] = PrototypesModule.findAndClone(args[i]);
            if(objects[total]!=null) total++;
        }
        for(int i=0;i&amp;lt;total;i++)
        {
            ((Command)objects[i]).execute();
        }       
    }
}
</code></pre><p></p>
<p><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/2016-04-24_154950.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/2016-04-24_154950.png" alt="2016-04-24_154950"></a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.iaihe.cn/blog/blog/2016/04/19/singleton-e8-ae-be-e8-ae-a1-e6-a8-a1-e5-bc-8f/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zlshi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MarginStone's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2016/04/19/singleton-e8-ae-be-e8-ae-a1-e6-a8-a1-e5-bc-8f/" itemprop="url">Singleton设计模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-19T13:10:09+08:00">
                2016-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考<br>Efficetive Java  page14<br><a href="http://coolshell.cn/articles/265.html" target="_blank" rel="external">深入浅出单实例Singleton设计模式</a><br><a href="http://wuchong.me/blog/2014/08/28/how-to-correctly-write-singleton-pattern/" target="_blank" rel="external">如何正确地写出单例模式</a></p>
<h1 id="Singleton-1-0版本"><a href="#Singleton-1-0版本" class="headerlink" title="Singleton 1.0版本"></a>Singleton 1.0版本</h1><pre>
public class Singleton {
    private static Singleton instance =null;
    private Singleton()
    {
        System.out.println("Singleton 实例化");
    }
    public static Singleton getInstance()
    {
        if(instance==null){
            instance = new Singleton();
        }
        return instance;
    }
}
</pre>

<h2 id="Singleton的特点"><a href="#Singleton的特点" class="headerlink" title="Singleton的特点"></a>Singleton的特点</h2><ol>
<li>私有（private）的构造函数，表明这个类是不可能形成实例了。这主要是怕这个类会有多个实例。</li>
<li>即然这个类是不可能形成实例，那么，我们需要一个静态的方式让其形成实例：getInstance()。注意这个方法是在new自己，因为其可以访问私有的构造函数，所以他是可以保证实例被创建出来的。</li>
<li>在getInstance()中，先做判断是否已形成实例，如果已形成则直接返回，否则创建实例。</li>
<li>所形成的实例保存在自己类中的私有成员中。</li>
<li>我们取实例时，只需要使用Singleton.getInstance()就行了。</li>
</ol>
<h2 id="单线程下"><a href="#单线程下" class="headerlink" title="单线程下"></a>单线程下</h2><p>测试代码：</p>
<pre>
public class Tests {

    public static void main(String[] args) {
        for(int i=1;i<=1000;i++) {="" object相同则hashcode一样="" system.out.println(singleton.getinstance().hashcode());="" }="" <="" pre="">

<p>测试结果<br><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/2016-04-19_132745.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/2016-04-19_132745.png" alt="2016-04-19_132745"></a></p>
<h2 id="多线程下"><a href="#多线程下" class="headerlink" title="多线程下"></a>多线程下</h2><p>测试代码：</p>
<pre>
public class Tests {

    public static void main(String[] args) {
        TestSingletonThread T[]=new TestSingletonThread[101];
        for(int i=1;i<=100;i++) {="" t[i]="new" testsingletonthread();="" t[i].start();="" }="" class="" testsingletonthread="" extends="" thread="" @override="" public="" void="" run()="" system.out.println(singleton.getinstance().hashcode());="" <="" pre="">

<p>测试结果：<br><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/2016-04-19_133750.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/2016-04-19_133750.png" alt="2016-04-19_133750"></a></p>
<p>可以发现在多线程下会实例化多个实例</p>
<h1 id="Singleton-1-1版本"><a href="#Singleton-1-1版本" class="headerlink" title="Singleton 1.1版本"></a>Singleton 1.1版本</h1><p>因为在多线程下会实例化多个实例，所以加入synchronized关键字</p>
<pre>
public class Singleton {
    private static Singleton instance =null;
    private Singleton()
    {
        System.out.println("Singleton 实例化");
    }
    public static  synchronized Singleton getInstance()
    {
        if(instance==null){
            instance = new Singleton();
        }
        return instance;
    }
}
</pre>

<p>但是此时在多线程下，当已经实例化一份实例后，之后的线程再去获得实例应该是并行的，而加上synchronized关键字后变成并行 影响程序性能<br>因为自己电脑为4线程所以开4个线程去获取Singleton的实例，来展示性能差异<br>代码</p>
<pre>
public class Tests {

    public static void main(String[] args) throws InterruptedException {
        TestSingletonThread T[]=new TestSingletonThread[5];
        long start,end;
        start = System.nanoTime();
        for(int i=1;i<=4;i++) {="" t[i]="new" testsingletonthread();="" t[i].start();="" }="" for(int="" i="1;i<=4;i++)" t[i].join();="" end="System.nanoTime();" system.out.println("运行时间"+(end-start)="" 1000.0+"微秒");="" class="" testsingletonthread="" extends="" thread="" @override="" public="" void="" run()="" system.out.println(singleton.getinstance().hashcode());="" <="" pre="">

<h2 id="不加synchronized关键字-但会实例化多个"><a href="#不加synchronized关键字-但会实例化多个" class="headerlink" title="不加synchronized关键字 但会实例化多个"></a>不加synchronized关键字 但会实例化多个</h2><p><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160419214859.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160419214859.png" alt="QQ截图20160419214859"></a></p>
<p><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160419215011.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160419215011.png" alt="QQ截图20160419215011"></a></p>
<h2 id="加synchronized关键字-不会实例化多个-但会损耗性能"><a href="#加synchronized关键字-不会实例化多个-但会损耗性能" class="headerlink" title="加synchronized关键字  不会实例化多个 但会损耗性能"></a>加synchronized关键字  不会实例化多个 但会损耗性能</h2><p><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160419214736.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160419214736.png" alt="QQ截图20160419214736"></a></p>
<p><a href="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160419214826.png" target="_blank" rel="external"><img src="http://zlshi.blog.ustc.edu.cn/wp-content/uploads/2016/04/QQ截图20160419214826.png" alt="QQ截图20160419214826"></a></p>
<h1 id="Singleton1-2版本"><a href="#Singleton1-2版本" class="headerlink" title="Singleton1.2版本"></a>Singleton1.2版本</h1><p>为了改善性能同时又不实例化多个Singleton实例，可以使用双重检测(Double-Check)</p>
<p>代码</p>
<pre>
public class Singleton {
    private static Singleton instance =null;
    private Singleton()
    {
        System.out.println("Singleton 实例化");
    }
    public static Singleton getInstance()
    {

        if(instance==null){
            synchronized(Singleton.class){
                if(instance == null)
                    instance = new Singleton();
            }       
        }   
        return instance;
    }
}
</pre>

<p>说明<br>1. 第一个条件是说，如果实例创建了，那就不需要同步了，直接返回就好了。<br>2. 不然，我们就开始同步线程。<br>3. 第二个条件是说，如果被同步的线程中，有一个线程创建了对象，那么别的线程就不用再创建了。<br>但是，如果你认为这个版本大攻告成，你就错了。</p>
<p>主要在于singleton = new Singleton()这句，这并非是一个原子操作，事实上在 JVM 中这句话大概做了下面 3 件事情。</p>
<ol>
<li>给 singleton 分配内存</li>
<li>调用 Singleton 的构造函数来初始化成员变量，形成实例</li>
<li>将singleton对象指向分配的内存空间（执行完这步 singleton才是非 null 了）</li>
</ol>
<p>但是在 JVM 的即时编译器中存在指令重排序的优化。也就是说上面的第二步和第三步的顺序是不能保证的，最终的执行顺序可能是 1-2-3 也可能是 1-3-2。如果是后者，则在 3 执行完毕、2 未执行之前，被线程二抢占了，这时 instance 已经是非 null 了（但却没有初始化），所以线程二会直接返回 instance，然后使用，然后顺理成章地报错。</p>
<p>对此，我们只需要把singleton声明成 volatile 就可以了。下面是1.3版：</p>
<h1 id="Singleton-1-3版本"><a href="#Singleton-1-3版本" class="headerlink" title="Singleton 1.3版本"></a>Singleton 1.3版本</h1><p>代码</p>
<pre>
public class Singleton {
    private volatile static Singleton instance =null;
    private Singleton()
    {
        System.out.println("Singleton 实例化");
    }
    public static Singleton getInstance()
    {

        if(instance==null){
            synchronized(Singleton.class){
                if(instance == null)
                    instance = new Singleton();
            }       
        }   
        return instance;
    }
}
</pre>

<p>使用 volatile 有两个功用：</p>
<p>1）这个变量不会在多个线程中存在复本，直接从内存读取。</p>
<p>2）这个关键字会禁止指令重排序优化。也就是说，在 volatile 变量的赋值操作后面会有一个内存屏障（生成的汇编代码上），读操作不会被重排序到内存屏障之前。</p>
<p>但是，这个事情仅在Java 1.5版后有用，1.5版之前用这个变量也有问题，因为老版本的Java的内存模型是有缺陷的。</p>
<h1 id="Singleton-1-4版本"><a href="#Singleton-1-4版本" class="headerlink" title="Singleton 1.4版本"></a>Singleton 1.4版本</h1><p>这种方法非常简单，因为单例的实例被声明成 static 和 final 变量了，在第一次加载类到内存中时就会初始化，所以创建实例本身是线程安全的。</p>
<pre>
 public class Singleton {
    private  static final Singleton instance = new Singleton();
    private Singleton()
    {
        System.out.println("Singleton 实例化");
    }
    public static Singleton getInstance()
    {   
        return instance;
    }
}
</pre>

<p>但是，这种玩法的最大问题是——当这个类被加载的时候，new Singleton() 这句话就会被执行，就算是getInstance()没有被调用，类也被初始化了。</p>
<p>于是，这个可能会与我们想要的行为不一样，比如，我的类的构造函数中，有一些事可能需要依赖于别的类干的一些事（比如某个配置文件，或是某个被其它类创建的资源），我们希望他能在我第一次getInstance()时才被真正的创建。这样，我们可以控制真正的类创建的时刻，而不是把类的创建委托给了类装载器。</p>
<h1 id="Singleton-1-5版本"><a href="#Singleton-1-5版本" class="headerlink" title="Singleton 1.5版本"></a>Singleton 1.5版本</h1><p>静态内部类</p>
<pre>
public class Singleton {

    private static class SingletonHolder
    {
        private  static final Singleton instance = new Singleton();
    }
    private Singleton()
    {
        System.out.println("Singleton 实例化");
    }
    public static final Singleton getInstance()
    {   
        return SingletonHolder.instance;
    }
}
</pre>

<p>上面这种方式，仍然使用JVM本身机制保证了线程安全问题；由于 SingletonHolder 是私有的，除了 getInstance() 之外没有办法访问它，因此它只有在getInstance()被调用时才会真正创建；同时读取实例的时候不会进行同步，没有性能缺陷；也不依赖 JDK 版本。</p>
<h1 id="Singleton-1-6-枚举-Enum"><a href="#Singleton-1-6-枚举-Enum" class="headerlink" title="Singleton 1.6 枚举 Enum"></a>Singleton 1.6 枚举 Enum</h1><pre>
public enum Singleton {
    INSTANCE;
    public  void leaveTheBuilding() {
        System.out.println("Whoa baby, I'm outta here!");
    }
}
</pre>

<p>我们可以通过Singleton.INSTANCE来访问实例，这比调用getInstance()方法简单多了。创建枚举默认就是线程安全的，所以不需要担心double checked locking，而且还能防止反序列化导致重新创建新的对象。</p>
<p>#其它问题（参考链接1）</p>
<h2 id="Class-Loader"><a href="#Class-Loader" class="headerlink" title="Class Loader"></a>Class Loader</h2><h2 id="序例化-声明所有实例域都是瞬时的-transient-的-并提供一个readResolve方法"><a href="#序例化-声明所有实例域都是瞬时的-transient-的-并提供一个readResolve方法" class="headerlink" title="序例化 (声明所有实例域都是瞬时的(transient)的 并提供一个readResolve方法"></a>序例化 (声明所有实例域都是瞬时的(transient)的 并提供一个readResolve方法</h2><p>Effective Java 77条</p>
<h2 id="多个Java虚拟机"><a href="#多个Java虚拟机" class="headerlink" title="多个Java虚拟机"></a>多个Java虚拟机</h2><h2 id="volatile变量"><a href="#volatile变量" class="headerlink" title="volatile变量"></a>volatile变量</h2><h2 id="关于代码重用"><a href="#关于代码重用" class="headerlink" title="关于代码重用"></a>关于代码重用</h2></=4;i++)></pre></=100;i++)></pre></=1000;i++)></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.iaihe.cn/blog/blog/2016/04/18/grasp-e9-80-9a-e7-94-a8-e8-81-8c-e8-b4-a3-e5-88-86-e9-85-8d-e8-bd-af-e4-bb-b6-e6-a8-a1-e5-bc-8f/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zlshi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MarginStone's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2016/04/18/grasp-e9-80-9a-e7-94-a8-e8-81-8c-e8-b4-a3-e5-88-86-e9-85-8d-e8-bd-af-e4-bb-b6-e6-a8-a1-e5-bc-8f/" itemprop="url">GRASP通用职责分配软件模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-18T21:48:36+08:00">
                2016-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://blog.nicky-zs.com/blog/12/" target="_blank" rel="external">GRASP设计模式及OO设计原则</a></p>
<p>GRASP设计模式的全称是General Responsibility Assignment Software Patterns，即通用职责分配软件模式。它定义了9个基本的OO设计原则或基本的设计构件。这9个设计模式分别是：</p>
<ul>
<li>控制器(Controller)</li>
<li>创建者(Creator)</li>
<li>高内聚(High cohesion)</li>
<li>间接性(Indirection)</li>
<li>信息专家(Information expert)</li>
<li>低耦合(Low coupling)</li>
<li>多态(Polymorphism)</li>
<li>预防变化(Protected variations)</li>
<li>纯虚构(Pure fabrication)</li>
</ul>
<h1 id="1-The-Controller-pattern"><a href="#1-The-Controller-pattern" class="headerlink" title="1.The Controller pattern"></a>1.The Controller pattern</h1><ol>
<li>the controller collaborates with the bussiness objects to handle the actor request</li>
<li>the controller delivers the result to the presentation,which displays the result to the actor</li>
<li>为了解决如下问题(a solution to these problems)<br>A. Decouple the presentation and bussiness objects<br> B. Remove the responsibility to handle an actor request from the presentation and assign it to another object</li>
<li>缺点(liabilities)<br>A controller may be assigned too many responsibilities,resulting in a so-called bloated controller</li>
</ol>
<h1 id="2-Creator"><a href="#2-Creator" class="headerlink" title="2.Creator"></a>2.Creator</h1><ol>
<li>the creator is the object that is responsible for creating an object of a class</li>
<li>a solution to these problems,supposed that an object of class A is the creator of an object of class B<br>A. Class A is an aggregation(聚合) of class B<br>B. An object of class A contains objects of class B<br>C. An object of class A records object of class B<br>D. An object of class A closely uses objects of class B<br>E. An object of class A has the information to create objects of class B</li>
<li>缺点(liabilities)<br>One same object may have different creation behaviors</li>
</ol>
<h1 id="3-6-High-cohesion-Low-coupling"><a href="#3-6-High-cohesion-Low-coupling" class="headerlink" title="3 6 High cohesion Low coupling"></a>3 6 High cohesion Low coupling</h1><h1 id="4-Indirection"><a href="#4-Indirection" class="headerlink" title="4 Indirection"></a>4 Indirection</h1><p>间接性模式关注这样一个问题：为了避免两个或多个事务之间直接耦合，应该如何分配职责？如何使对象解耦合，以支持低耦合并提高复用性潜力？</p>
<p>间接性模式对此的回答是：将职责分配给中介对象，使其作为其他构件或服务之间的媒介，以避免它们之间的直接耦合。中介则实现了其他构件之间的间接性。</p>
<p>间接性模式的思想比较简单，即通过一个中介就能消除许多的耦合。在GoF的23种设计模式中，有许多模式都利用到了间接性的思想。比如桥接模式中，设计将抽象部分与其实现部分相分离，利用的就是在客户与实现之间增加了一个抽象层次。外观模式则是在整个子系统与客户之间增加了一个便于用户使用的外观类作为中介。而中介者模式中的中介者则更是典型的例子。</p>
<h1 id="5-The-expert-pattern"><a href="#5-The-expert-pattern" class="headerlink" title="5 The expert pattern"></a>5 The expert pattern</h1><ol>
<li>the expert is the object that is responsible for handling a request should have the information to fulfill the request</li>
<li>a solution to these problems<br>A. who should be assigned the responsibility to handle a request<br> B. Remove the excessive responsibility from the controller and assigning them to other objects</li>
<li>缺点(liabilities)<br>The expert may become a big  object</li>
</ol>
<h1 id="7-多态-Polymorphism"><a href="#7-多态-Polymorphism" class="headerlink" title="7 多态(Polymorphism)"></a>7 多态(Polymorphism)</h1><h1 id="8-预防变化-Protected-variations"><a href="#8-预防变化-Protected-variations" class="headerlink" title="8 预防变化(Protected variations)"></a>8 预防变化(Protected variations)</h1><p>防止变异模式关注这样一个问题：如何设计对象、子系统和系统，使其内部的变化或不稳定性不会对其他元素产生不良影响？</p>
<p>防止变异模式的回答是：识别预计变化或不稳定之处，分配职责用以在这些变化之外创建稳定的接口。</p>
<p>防止变异（PV）是非常重要和基本的软件设计原则，几乎所有的软件或架构设计技巧都是防止变异的特例。PV是一个根本原则，它促成了大部分编程和设计的模式和机制，用来提供灵活性和防止变化。在软件设计中，除了数据封装、接口、多态、间接性等机制是PV的核心机制之外，没有一种固定的或者是通用的办法能够防止一切变化的产生。因此PV的实现依赖的是一系列的OO设计方面的经验性原则，用以产生一个设计良好的高内聚、低耦合的系统，从而支持PV。</p>
<p>这里需要参考文章<a href="https://zlshi.blog.ustc.edu.cn/%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1%e8%ae%be%e8%ae%a1%e5%8e%9f%e5%88%99/" target="_blank" rel="external">面向对象设计原则</a></p>
<h1 id="9-纯虚构-Pure-fabrication"><a href="#9-纯虚构-Pure-fabrication" class="headerlink" title="9 纯虚构(Pure fabrication)"></a>9 纯虚构(Pure fabrication)</h1><p>纯虚构模式关注这样一个问题：当你并不想违背高内聚和低耦合或其他目标，但是基于专家模式所提供的方案又不合适时，哪些对象应该承担这一职责？</p>
<p>OO设计中的领域模型是对领域内的概念内或现实世界中的对象的模型化表示。创建领域模型的关键思想是减小软件人员的思维与软件模式之间的表示差异。因此，在OO设计时，系统内的大多数类都是来源于现实世界中的真实类。然而，在给这些类分配职责时，有可能会遇到一些很难满足低耦合高内聚的设计原则。纯虚构模式对这一问题给出的方案是：给人为制造的类分配一组高内聚的职责，该类并不代表问题领域的概念，而代表虚构出来的事物，用以支持高内聚、低耦合和复用。</p>
<p>纯虚构模式强调的是职责应该置于何处。一般来说，纯虚构模式会通过表示解析或者行为解析来确定出一些纯虚构类，用于放置某一类职责。理想状况下，分配给这种虚构物的职责是要支持高内聚低耦合的，从而使整个系统处于一种良好的设计之中。</p>
<p>例如，在信息专家模式的最后一段所举的例子中提到，许多后台系统都需要对数据库进行操作，将系统中的一些对象进行持久化。信息专家模式给出的建议是将持久化的职责分配给具体的每一个模型类。但是这种建议已经被证明是不符合高内聚低耦合原则的，因为不会被采纳。于是，设计者往往会在系统中加入类似于DAO或者PersistentStorage这样的类。这些类在领域模型中是并不存在的，它们完全由设计者根据系统的行为而虚构得到。然而，这些类的引入，使得操作数据库进行持久化这种高内聚的职责可以顺理成章地分配给它们。从而在整个系统中实现了比较好的内聚和耦合。</p>
<p>在使用纯虚构模式时，不能毫无限制地对系统中的各种行为进行解析并纯虚构。如此往往会导致系统中大量的行为对象的存在，这样会对耦合产生不良的影响。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><a class="extend next" rel="next" href="/blog/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/blog/images/avatar.jpg"
                alt="zlshi" />
            
              <p class="site-author-name" itemprop="name">zlshi</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/blog/archives/">
              
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/blog/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/blog/tags/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/shizl92" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:zlshi9219@gmail.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zlshi</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/blog/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/blog/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  
    

    
  





  









<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/blog/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
